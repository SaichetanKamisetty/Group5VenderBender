<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vending Machines</title>
    <link rel="stylesheet" href="assets/css/VendingMachinePickerStyle.css">
  </head>
  <body>
    <div id="vendingList"></div>
    <script>
      function createButtons(arr) {
        const vendingList = document.getElementById("vendingList");
        arr.forEach(machine => {
          const button = document.createElement("button");
          button.className = "machine-button";
          button.textContent = machine;
          vendingList.appendChild(button);
          button.addEventListener('click', function() {
            window.location.href = `/vendingmachine?vendingmachine=${encodeURIComponent(machine)}`;
          })
        });
      }
      fetch('/getmachines').then(response => response.json()).then(jsonData => {
        createButtons(jsonData);
      })
    </script>
  </body>
</html>